# c++程序设计（第3版） 谭浩强

## 01 | 函数指针
函数指针，用来指向变量的地址。有起始地址（入口地址），通过函数指针调用函数体。
函数的名称和函数的指针是匹配的。
函数指针的必要性：可以对任意类型的数组进行排序。



![image.png | left | 144x175](https://cdn.nlark.com/yuque/0/2018/png/103225/1541600061899-cd840793-fc38-40f6-bce1-f9e965b4839b.png "")


## 02 | 命令行参数

## 03 | 位运算
### 按位与__&__
1、__将某些变量中的某些位“清0”且同时保留其他位不变；也可以用来获取变量中的某一位。__

n = n & 0xffffff00;
也可以写成
n&= 0xffffff00;
如果n是short类型的，则只需执行：
n &= 0xff00;

2、如何判断一个int型变量n的第7位（从右往左，从0开始数）是否是1？
只需看表达式  “n & 0x80” 的值是否等于 0x80 即可。

### 按位或“|”
将参与运算的两操作数各对应的二进制位进行或操作。

用来将某变量中的某些位“置1”且保留其他位不变。

### 按位异或“^”
两个二进制位不相同时，结果才是1，否则为0；

用来将某变量中的某些位取反，且保留其他位不变。

__如果 a^b=c，那么就有 c^b=a 以及 c^a=b; (穷举法可证)__
__此规律可以用来进行最简单的加密和解密。__

<span data-type="color" style="color:#FA8C16">另外还有一个有意思的点，即不通过临时变量，就能交换两个变量的值：</span>

```plain
var a = 1, b = 2
a = a^b
b = b^a
a = a^b
console.log(a, b)

// a => 2
// b => 1
```

### 按位非 “~”
是单目运算符，能将二进制为0变成1，1变成0。（就是取反）

### 左移运算符“<<”
a << b

的值是：将a各二进制位全部左移b位后得到的值。左移时高位丢弃，低位补0。
a 的值不因运算而改变。

```plain
9 << 4
0000 1001
1001 0000
// 144
```

左移1位，就等于是乘以2，左移n位，就等于是乘以2^n^。

### 右移运算符 “>>”
同理，移出最右边的位就被丢弃。 a 的值不因运算而改变。
大多数c/c++编译器规定，如果原符号位为1，则右移时高位就补充1，原符号位为0，则右移时高位就补充0。

右移1位，就等于是除以2，左移n位，就等于是除以2^n^，并且将结果往小里取整。

```plain
-25 >> 4 = -2
-2 >> 4  = -1
18 >> 4  = 1
```

<strong><code>所以答题，算对是很重要的，所以要小心谨慎。</code></strong><strong> </strong>

### 答题
1、<span data-type="color" style="color:#FA8C16">负数的二进制表示？</span>

2、有两个int型的变量a和n（0 <= n <= 31） `32进制` ，
要求写一个表达式，使该表达式的值和a 的第n位相同。

`其实问题就是让你判断，a的n位是0还是1？`

(a >> n) & 1

当 n 不等于 31时，
(a & (1 << n)) >> n

__<span data-type="color" style="color:#FA8C16">位运算很重要，它的速度非常快，能提高效率。</span>__

## 04 | 引用
1、某个变量的引用，等价于这个变量，相当于该变量的一个别名。

2、__初始值改变，引用的值也跟着改变。__

3、__使用引用有3条要注意的地方：__
* __<span data-type="color" style="color:#FA8C16">定义引用时，一定要将其初始化成引用某个变量；</span>__
* __<span data-type="color" style="color:#FA8C16">初始化后，它就一直引用该变量，不会再引用别的变量了（引用从一而终）。</span>__
* __<span data-type="color" style="color:#FA8C16">引用只能引用变量，不能引用常量和表达式。</span>__



![image.png | left | 747x420](https://cdn.nlark.com/yuque/0/2018/png/103225/1541605378727-275d4136-e8c2-4707-8198-c3f1cb884729.png "")


```plain
r1引用了a
b 赋值给r1

则a = b
r1从一而终，依然是4
```

4、c语言中，如何编写交换两个整型变量值的函数？
__<span data-type="color" style="color:#FA8C16">把参数变成指针，把指针的内容进行交换。</span>__

5、c++，优化成了引用，引用的是指针。其实也是一回事。

```plain
void swap(int & a, int & b) {
    int tmp;
    tmp = a;
    a = b;
    b = tmp;
}
int n1, n2;
swap(n1, n2) // n1, n2的值被交换
```

6、引用可以作为函数的返回值
一个函数的返回值是引用。

```plain
int n = 4;
int & SetValue() { return n; }
int main() {
    SetValue() = 40;
    cout << n;
    return 0;
} // 输出：40
```


7、常引用
cont int & r = n;

特点，不能通过常引用去修改其引用的内容；除非进行强制类型的转换。

## 05 | const 关键字和常量
定义常量，const是有类型的，便于类型检查。


